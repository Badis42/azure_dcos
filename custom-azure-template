{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "vmAdminPassword": {
            "defaultValue": null,
            "type": "SecureString"
        },
        "virtualMachines_a1_name": {
            "defaultValue": "a1",
            "type": "String"
        },
        "virtualMachines_a2_name": {
            "defaultValue": "a2",
            "type": "String"
        },
        "virtualMachines_a3_name": {
            "defaultValue": "a3",
            "type": "String"
        },
        "virtualMachines_boot_name": {
            "defaultValue": "boot",
            "type": "String"
        },
        "virtualMachines_m1_name": {
            "defaultValue": "m1",
            "type": "String"
        },
        "virtualMachines_m2_name": {
            "defaultValue": "m2",
            "type": "String"
        },
        "virtualMachines_m3_name": {
            "defaultValue": "m3",
            "type": "String"
        },
        "virtualMachines_p1_name": {
            "defaultValue": "p1",
            "type": "String"
        },
        "virtualMachines_p2_name": {
            "defaultValue": "p2",
            "type": "String"
        },
        "virtualMachines_p3_name": {
            "defaultValue": "p3",
            "type": "String"
        },
        "networkSecurityGroups_agents_nsg_name": {
            "defaultValue": "agents-nsg",
            "type": "String"
        },
        "networkSecurityGroups_agents_public_nsg_name": {
            "defaultValue": "agents-public-nsg",
            "type": "String"
        },
        "networkSecurityGroups_masters_nsg_name": {
            "defaultValue": "masters-nsg",
            "type": "String"
        },
        "resource_name": {
            "defaultValue": "esri56",
            "type": "String"
        }
    },
    "variables": {},
    "resources": [
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Compute/virtualMachines/a1'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_a1_name')]",
            "apiVersion": "2015-06-15",
            "location": "westus",
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS4_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "OpenLogic",
                        "offer": "CentOS",
                        "sku": "7.2",
                        "version": "latest"
                    },
                    "osDisk": {
                        "name": "[parameters('virtualMachines_a1_name')]",
                        "createOption": "FromImage",
                        "vhd": {
                            "uri": "[concat('https', '://', parameters('resource_name'), '.blob.core.windows.net', concat('/vhds/', parameters('virtualMachines_a1_name'),'2016912113844.vhd'))]"
                        },
                        "caching": "ReadWrite"
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_a1_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyUNoNpGWsREQqL9YUfJyyNHueU1RbfHJNzrDZ74qag4DS2xUsLEufU3XfP6WdDcEooHv3Z6ul5jywhpo9qENxKyj3TpREeVLpMXXUtsu0ZK7NNbNWAdgq9iYSGecIulLa8VjOXTGPIX9YYk88ilcC4B0OoRwKmWNjamDSokDIYnAgz/E/PdAxjE0bR1bWznBUaxVM8KGc8vU1pKJMj3Epg+gRAgiTZTo3tG8sTUU7PkSNNZ1FIFIsLgBfV/d8UQgq2DSrh4iwluIIjKaedlr4GYlo7V7BhS7B7SnaG5InGoB1xlHNANAakyn9N2o41poiEAvMsW2PrBzZZv2QMoyb"
                                }
                            ]
                        }
                    },
                    "secrets": [],
                    "adminPassword": "[parameters('vmAdminPassword')]"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_a1_name'), parameters('resource_name')))]"
                        }
                    ]
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_a1_name'), parameters('resource_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Compute/virtualMachines/a2'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_a2_name')]",
            "apiVersion": "2015-06-15",
            "location": "westus",
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS4_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "OpenLogic",
                        "offer": "CentOS",
                        "sku": "7.2",
                        "version": "latest"
                    },
                    "osDisk": {
                        "name": "[parameters('virtualMachines_a2_name')]",
                        "createOption": "FromImage",
                        "vhd": {
                            "uri": "[concat('https', '://', parameters('resource_name'), '.blob.core.windows.net', concat('/vhds/', parameters('virtualMachines_a2_name'),'2016912114248.vhd'))]"
                        },
                        "caching": "ReadWrite"
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_a2_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyUNoNpGWsREQqL9YUfJyyNHueU1RbfHJNzrDZ74qag4DS2xUsLEufU3XfP6WdDcEooHv3Z6ul5jywhpo9qENxKyj3TpREeVLpMXXUtsu0ZK7NNbNWAdgq9iYSGecIulLa8VjOXTGPIX9YYk88ilcC4B0OoRwKmWNjamDSokDIYnAgz/E/PdAxjE0bR1bWznBUaxVM8KGc8vU1pKJMj3Epg+gRAgiTZTo3tG8sTUU7PkSNNZ1FIFIsLgBfV/d8UQgq2DSrh4iwluIIjKaedlr4GYlo7V7BhS7B7SnaG5InGoB1xlHNANAakyn9N2o41poiEAvMsW2PrBzZZv2QMoyb"
                                }
                            ]
                        }
                    },
                    "secrets": [],
                    "adminPassword": "[parameters('vmAdminPassword')]"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_a2_name'), parameters('resource_name')))]"
                        }
                    ]
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_a2_name'), parameters('resource_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Compute/virtualMachines/a3'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_a3_name')]",
            "apiVersion": "2015-06-15",
            "location": "westus",
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS4_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "OpenLogic",
                        "offer": "CentOS",
                        "sku": "7.2",
                        "version": "latest"
                    },
                    "osDisk": {
                        "name": "[parameters('virtualMachines_a3_name')]",
                        "createOption": "FromImage",
                        "vhd": {
                            "uri": "[concat('https', '://', parameters('resource_name'), '.blob.core.windows.net', concat('/vhds/', parameters('virtualMachines_a3_name'),'2016912114911.vhd'))]"
                        },
                        "caching": "ReadWrite"
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_a3_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyUNoNpGWsREQqL9YUfJyyNHueU1RbfHJNzrDZ74qag4DS2xUsLEufU3XfP6WdDcEooHv3Z6ul5jywhpo9qENxKyj3TpREeVLpMXXUtsu0ZK7NNbNWAdgq9iYSGecIulLa8VjOXTGPIX9YYk88ilcC4B0OoRwKmWNjamDSokDIYnAgz/E/PdAxjE0bR1bWznBUaxVM8KGc8vU1pKJMj3Epg+gRAgiTZTo3tG8sTUU7PkSNNZ1FIFIsLgBfV/d8UQgq2DSrh4iwluIIjKaedlr4GYlo7V7BhS7B7SnaG5InGoB1xlHNANAakyn9N2o41poiEAvMsW2PrBzZZv2QMoyb"
                                }
                            ]
                        }
                    },
                    "secrets": [],
                    "adminPassword": "[parameters('vmAdminPassword')]"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_a3_name'), parameters('resource_name')))]"
                        }
                    ]
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_a3_name'), parameters('resource_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Compute/virtualMachines/boot'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_boot_name')]",
            "apiVersion": "2015-06-15",
            "location": "westus",
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS2_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "OpenLogic",
                        "offer": "CentOS",
                        "sku": "7.2",
                        "version": "latest"
                    },
                    "osDisk": {
                        "name": "[parameters('virtualMachines_boot_name')]",
                        "createOption": "FromImage",
                        "vhd": {
                            "uri": "[concat('https', '://', parameters('resource_name'), '.blob.core.windows.net', concat('/vhds/', parameters('virtualMachines_boot_name'),'201691282633.vhd'))]"
                        },
                        "caching": "ReadWrite"
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_boot_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyUNoNpGWsREQqL9YUfJyyNHueU1RbfHJNzrDZ74qag4DS2xUsLEufU3XfP6WdDcEooHv3Z6ul5jywhpo9qENxKyj3TpREeVLpMXXUtsu0ZK7NNbNWAdgq9iYSGecIulLa8VjOXTGPIX9YYk88ilcC4B0OoRwKmWNjamDSokDIYnAgz/E/PdAxjE0bR1bWznBUaxVM8KGc8vU1pKJMj3Epg+gRAgiTZTo3tG8sTUU7PkSNNZ1FIFIsLgBfV/d8UQgq2DSrh4iwluIIjKaedlr4GYlo7V7BhS7B7SnaG5InGoB1xlHNANAakyn9N2o41poiEAvMsW2PrBzZZv2QMoyb"
                                }
                            ]
                        }
                    },
                    "secrets": [],
                    "adminPassword": "[parameters('vmAdminPassword')]"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_boot_name'), parameters('resource_name')))]"
                        }
                    ]
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_boot_name'), parameters('resource_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Compute/virtualMachines/m1'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_m1_name')]",
            "apiVersion": "2015-06-15",
            "location": "westus",
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS11_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "OpenLogic",
                        "offer": "CentOS",
                        "sku": "7.2",
                        "version": "latest"
                    },
                    "osDisk": {
                        "name": "[parameters('virtualMachines_m1_name')]",
                        "createOption": "FromImage",
                        "vhd": {
                            "uri": "[concat('https', '://', parameters('resource_name'), '.blob.core.windows.net', concat('/vhds/', parameters('virtualMachines_m1_name'),'2016912112740.vhd'))]"
                        },
                        "caching": "ReadWrite"
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_m1_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyUNoNpGWsREQqL9YUfJyyNHueU1RbfHJNzrDZ74qag4DS2xUsLEufU3XfP6WdDcEooHv3Z6ul5jywhpo9qENxKyj3TpREeVLpMXXUtsu0ZK7NNbNWAdgq9iYSGecIulLa8VjOXTGPIX9YYk88ilcC4B0OoRwKmWNjamDSokDIYnAgz/E/PdAxjE0bR1bWznBUaxVM8KGc8vU1pKJMj3Epg+gRAgiTZTo3tG8sTUU7PkSNNZ1FIFIsLgBfV/d8UQgq2DSrh4iwluIIjKaedlr4GYlo7V7BhS7B7SnaG5InGoB1xlHNANAakyn9N2o41poiEAvMsW2PrBzZZv2QMoyb"
                                }
                            ]
                        }
                    },
                    "secrets": [],
                    "adminPassword": "[parameters('vmAdminPassword')]"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_m1_name'), parameters('resource_name')))]"
                        }
                    ]
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_m1_name'), parameters('resource_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Compute/virtualMachines/m2'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_m2_name')]",
            "apiVersion": "2015-06-15",
            "location": "westus",
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS11_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "OpenLogic",
                        "offer": "CentOS",
                        "sku": "7.2",
                        "version": "latest"
                    },
                    "osDisk": {
                        "name": "[parameters('virtualMachines_m2_name')]",
                        "createOption": "FromImage",
                        "vhd": {
                            "uri": "[concat('https', '://', parameters('resource_name'), '.blob.core.windows.net', concat('/vhds/', parameters('virtualMachines_m2_name'),'201691211328.vhd'))]"
                        },
                        "caching": "ReadWrite"
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_m2_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyUNoNpGWsREQqL9YUfJyyNHueU1RbfHJNzrDZ74qag4DS2xUsLEufU3XfP6WdDcEooHv3Z6ul5jywhpo9qENxKyj3TpREeVLpMXXUtsu0ZK7NNbNWAdgq9iYSGecIulLa8VjOXTGPIX9YYk88ilcC4B0OoRwKmWNjamDSokDIYnAgz/E/PdAxjE0bR1bWznBUaxVM8KGc8vU1pKJMj3Epg+gRAgiTZTo3tG8sTUU7PkSNNZ1FIFIsLgBfV/d8UQgq2DSrh4iwluIIjKaedlr4GYlo7V7BhS7B7SnaG5InGoB1xlHNANAakyn9N2o41poiEAvMsW2PrBzZZv2QMoyb"
                                }
                            ]
                        }
                    },
                    "secrets": [],
                    "adminPassword": "[parameters('vmAdminPassword')]"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_m2_name'), parameters('resource_name')))]"
                        }
                    ]
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_m2_name'), parameters('resource_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Compute/virtualMachines/m3'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_m3_name')]",
            "apiVersion": "2015-06-15",
            "location": "westus",
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS11_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "OpenLogic",
                        "offer": "CentOS",
                        "sku": "7.2",
                        "version": "latest"
                    },
                    "osDisk": {
                        "name": "[parameters('virtualMachines_m3_name')]",
                        "createOption": "FromImage",
                        "vhd": {
                            "uri": "[concat('https', '://', parameters('resource_name'), '.blob.core.windows.net', concat('/vhds/', parameters('virtualMachines_m3_name'),'2016912113346.vhd'))]"
                        },
                        "caching": "ReadWrite"
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_m3_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyUNoNpGWsREQqL9YUfJyyNHueU1RbfHJNzrDZ74qag4DS2xUsLEufU3XfP6WdDcEooHv3Z6ul5jywhpo9qENxKyj3TpREeVLpMXXUtsu0ZK7NNbNWAdgq9iYSGecIulLa8VjOXTGPIX9YYk88ilcC4B0OoRwKmWNjamDSokDIYnAgz/E/PdAxjE0bR1bWznBUaxVM8KGc8vU1pKJMj3Epg+gRAgiTZTo3tG8sTUU7PkSNNZ1FIFIsLgBfV/d8UQgq2DSrh4iwluIIjKaedlr4GYlo7V7BhS7B7SnaG5InGoB1xlHNANAakyn9N2o41poiEAvMsW2PrBzZZv2QMoyb"
                                }
                            ]
                        }
                    },
                    "secrets": [],
                    "adminPassword": "[parameters('vmAdminPassword')]"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_m3_name'), parameters('resource_name')))]"
                        }
                    ]
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_m3_name'), parameters('resource_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Compute/virtualMachines/p1'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_p1_name')]",
            "apiVersion": "2015-06-15",
            "location": "westus",
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS4_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "OpenLogic",
                        "offer": "CentOS",
                        "sku": "7.2",
                        "version": "latest"
                    },
                    "osDisk": {
                        "name": "[parameters('virtualMachines_p1_name')]",
                        "createOption": "FromImage",
                        "vhd": {
                            "uri": "[concat('https', '://', parameters('resource_name'), '.blob.core.windows.net', concat('/vhds/', parameters('virtualMachines_p1_name'),'2016912114053.vhd'))]"
                        },
                        "caching": "ReadWrite"
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_p1_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyUNoNpGWsREQqL9YUfJyyNHueU1RbfHJNzrDZ74qag4DS2xUsLEufU3XfP6WdDcEooHv3Z6ul5jywhpo9qENxKyj3TpREeVLpMXXUtsu0ZK7NNbNWAdgq9iYSGecIulLa8VjOXTGPIX9YYk88ilcC4B0OoRwKmWNjamDSokDIYnAgz/E/PdAxjE0bR1bWznBUaxVM8KGc8vU1pKJMj3Epg+gRAgiTZTo3tG8sTUU7PkSNNZ1FIFIsLgBfV/d8UQgq2DSrh4iwluIIjKaedlr4GYlo7V7BhS7B7SnaG5InGoB1xlHNANAakyn9N2o41poiEAvMsW2PrBzZZv2QMoyb"
                                }
                            ]
                        }
                    },
                    "secrets": [],
                    "adminPassword": "[parameters('vmAdminPassword')]"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_p1_name'), parameters('resource_name')))]"
                        }
                    ]
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_p1_name'), parameters('resource_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Compute/virtualMachines/p2'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_p2_name')]",
            "apiVersion": "2015-06-15",
            "location": "westus",
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS4_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "OpenLogic",
                        "offer": "CentOS",
                        "sku": "7.2",
                        "version": "latest"
                    },
                    "osDisk": {
                        "name": "[parameters('virtualMachines_p2_name')]",
                        "createOption": "FromImage",
                        "vhd": {
                            "uri": "[concat('https', '://', parameters('resource_name'), '.blob.core.windows.net', concat('/vhds/', parameters('virtualMachines_p2_name'),'201691211476.vhd'))]"
                        },
                        "caching": "ReadWrite"
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_p2_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyUNoNpGWsREQqL9YUfJyyNHueU1RbfHJNzrDZ74qag4DS2xUsLEufU3XfP6WdDcEooHv3Z6ul5jywhpo9qENxKyj3TpREeVLpMXXUtsu0ZK7NNbNWAdgq9iYSGecIulLa8VjOXTGPIX9YYk88ilcC4B0OoRwKmWNjamDSokDIYnAgz/E/PdAxjE0bR1bWznBUaxVM8KGc8vU1pKJMj3Epg+gRAgiTZTo3tG8sTUU7PkSNNZ1FIFIsLgBfV/d8UQgq2DSrh4iwluIIjKaedlr4GYlo7V7BhS7B7SnaG5InGoB1xlHNANAakyn9N2o41poiEAvMsW2PrBzZZv2QMoyb"
                                }
                            ]
                        }
                    },
                    "secrets": [],
                    "adminPassword": "[parameters('vmAdminPassword')]"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_p2_name'), parameters('resource_name')))]"
                        }
                    ]
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_p2_name'), parameters('resource_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Compute/virtualMachines/p3'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_p3_name')]",
            "apiVersion": "2015-06-15",
            "location": "westus",
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS4_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "OpenLogic",
                        "offer": "CentOS",
                        "sku": "7.2",
                        "version": "latest"
                    },
                    "osDisk": {
                        "name": "[parameters('virtualMachines_p3_name')]",
                        "createOption": "FromImage",
                        "vhd": {
                            "uri": "[concat('https', '://', parameters('resource_name'), '.blob.core.windows.net', concat('/vhds/', parameters('virtualMachines_p3_name'),'2016912115059.vhd'))]"
                        },
                        "caching": "ReadWrite"
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_p3_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyUNoNpGWsREQqL9YUfJyyNHueU1RbfHJNzrDZ74qag4DS2xUsLEufU3XfP6WdDcEooHv3Z6ul5jywhpo9qENxKyj3TpREeVLpMXXUtsu0ZK7NNbNWAdgq9iYSGecIulLa8VjOXTGPIX9YYk88ilcC4B0OoRwKmWNjamDSokDIYnAgz/E/PdAxjE0bR1bWznBUaxVM8KGc8vU1pKJMj3Epg+gRAgiTZTo3tG8sTUU7PkSNNZ1FIFIsLgBfV/d8UQgq2DSrh4iwluIIjKaedlr4GYlo7V7BhS7B7SnaG5InGoB1xlHNANAakyn9N2o41poiEAvMsW2PrBzZZv2QMoyb"
                                }
                            ]
                        }
                    },
                    "secrets": [],
                    "adminPassword": "[parameters('vmAdminPassword')]"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_p3_name'), parameters('resource_name')))]"
                        }
                    ]
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('virtualMachines_p3_name'), parameters('resource_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkInterfaces/a1773'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[concat(parameters('virtualMachines_a1_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "privateIPAddress": "172.17.1.5",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[concat(resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name')), '/subnets/agents')]"
                            }
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_nsg_name')))]"
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_nsg_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkInterfaces/a2572'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[concat(parameters('virtualMachines_a2_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "privateIPAddress": "172.17.1.4",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[concat(resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name')), '/subnets/agents')]"
                            }
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_nsg_name')))]"
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_nsg_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkInterfaces/a326'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[concat(parameters('virtualMachines_a3_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "privateIPAddress": "172.17.1.6",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[concat(resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name')), '/subnets/agents')]"
                            }
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_nsg_name')))]"
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_nsg_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkInterfaces/boot953'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[concat(parameters('virtualMachines_boot_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "privateIPAddress": "172.17.0.7",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_boot_name'), parameters('resource_name')))]"
                            },
                            "subnet": {
                                "id": "[concat(resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name')), '/subnets/default')]"
                            }
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_masters_nsg_name')))]"
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_boot_name'), parameters('resource_name')))]",
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_masters_nsg_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkInterfaces/m1192'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[concat(parameters('virtualMachines_m1_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "privateIPAddress": "172.17.0.4",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_m1_name'), parameters('resource_name')))]"
                            },
                            "subnet": {
                                "id": "[concat(resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name')), '/subnets/default')]"
                            }
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_masters_nsg_name')))]"
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_m1_name'), parameters('resource_name')))]",
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_masters_nsg_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkInterfaces/m2777'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[concat(parameters('virtualMachines_m2_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "privateIPAddress": "172.17.0.6",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_m2_name'), parameters('resource_name')))]"
                            },
                            "subnet": {
                                "id": "[concat(resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name')), '/subnets/default')]"
                            }
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_masters_nsg_name')))]"
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_m2_name'), parameters('resource_name')))]",
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_masters_nsg_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkInterfaces/m3526'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[concat(parameters('virtualMachines_m3_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "privateIPAddress": "172.17.0.5",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_m3_name'), parameters('resource_name')))]"
                            },
                            "subnet": {
                                "id": "[concat(resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name')), '/subnets/default')]"
                            }
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_masters_nsg_name')))]"
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_m3_name'), parameters('resource_name')))]",
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_masters_nsg_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkInterfaces/p1289'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[concat(parameters('virtualMachines_p1_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "privateIPAddress": "172.17.2.5",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_p1_name'), parameters('resource_name')))]"
                            },
                            "subnet": {
                                "id": "[concat(resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name')), '/subnets/agents-public')]"
                            }
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_public_nsg_name')))]"
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_p1_name'), parameters('resource_name')))]",
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_public_nsg_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkInterfaces/p2792'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[concat(parameters('virtualMachines_p2_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "privateIPAddress": "172.17.2.6",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_p2_name'), parameters('resource_name')))]"
                            },
                            "subnet": {
                                "id": "[concat(resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name')), '/subnets/agents-public')]"
                            }
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_public_nsg_name')))]"
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_p2_name'), parameters('resource_name')))]",
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_public_nsg_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkInterfaces/p3599'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[concat(parameters('virtualMachines_p3_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "privateIPAddress": "172.17.2.4",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_p3_name'), parameters('resource_name')))]"
                            },
                            "subnet": {
                                "id": "[concat(resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name')), '/subnets/agents-public')]"
                            }
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_public_nsg_name')))]"
                }
            },
            "resources": [],
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', concat(parameters('virtualMachines_p3_name'), parameters('resource_name')))]",
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('resource_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_public_nsg_name')))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkSecurityGroups/agents-nsg'.",
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_nsg_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "securityRules": [
                    {
                        "name": "default-allow-ssh",
                        "properties": {
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "22",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 1000,
                            "direction": "Inbound"
                        }
                    }
                ]
            },
            "resources": [],
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkSecurityGroups/agents-public-nsg'.",
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[concat(parameters('resource_name'), parameters('networkSecurityGroups_agents_public_nsg_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "securityRules": [
                    {
                        "name": "default-allow-ssh",
                        "properties": {
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "22",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 1000,
                            "direction": "Inbound"
                        }
                    }
                ]
            },
            "resources": [],
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/networkSecurityGroups/esri56-masters-nsg'.",
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[concat(parameters('resource_name'), parameters('networkSecurityGroups_masters_nsg_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "securityRules": [
                    {
                        "name": "default-allow-ssh",
                        "properties": {
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "22",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 1000,
                            "direction": "Inbound"
                        }
                    }
                ]
            },
            "resources": [],
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/publicIPAddresses/boot-ip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "name": "[concat(parameters('virtualMachines_boot_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4
            },
            "resources": [],
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/publicIPAddresses/m1-ip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "name": "[concat(parameters('virtualMachines_m1_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4
            },
            "resources": [],
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/publicIPAddresses/m2-ip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "name": "[concat(parameters('virtualMachines_m2_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4
            },
            "resources": [],
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/publicIPAddresses/m3-ip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "name": "[concat(parameters('virtualMachines_m3_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4
            },
            "resources": [],
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/publicIPAddresses/p1-ip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "name": "[concat(parameters('virtualMachines_p1_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4
            },
            "resources": [],
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/publicIPAddresses/p2-ip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "name": "[concat(parameters('virtualMachines_p2_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4
            },
            "resources": [],
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/publicIPAddresses/p3-ip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "name": "[concat(parameters('virtualMachines_p3_name'), parameters('resource_name'))]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4
            },
            "resources": [],
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Network/virtualNetworks/esri56-vnet'.",
            "type": "Microsoft.Network/virtualNetworks",
            "name": "[parameters('resource_name')]",
            "apiVersion": "2016-03-30",
            "location": "westus",
            "properties": {
                "addressSpace": {
                    "addressPrefixes": [
                        "172.17.0.0/16"
                    ]
                },
                "subnets": [
                    {
                        "name": "default",
                        "properties": {
                            "addressPrefix": "172.17.0.0/24"
                        }
                    },
                    {
                        "name": "agents",
                        "properties": {
                            "addressPrefix": "172.17.1.0/24"
                        }
                    },
                    {
                        "name": "agents-public",
                        "properties": {
                            "addressPrefix": "172.17.2.0/24"
                        }
                    }
                ]
            },
            "resources": [],
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/a17613f2-c602-4fc3-bfde-a40bc97a54b6/resourceGroups/esri56/providers/Microsoft.Storage/storageAccounts/esri56disks'.",
            "type": "Microsoft.Storage/storageAccounts",
            "sku": {
                "name": "Premium_LRS",
                "tier": "Premium"
            },
            "kind": "Storage",
            "name": "[parameters('resource_name')]",
            "apiVersion": "2016-01-01",
            "location": "westus",
            "tags": {},
            "properties": {},
            "resources": [],
            "dependsOn": []
        }
    ]
}
